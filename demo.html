<html>

<head>
    <title>Books API Example</title>
</head>

<body>
    <div id="content"></div>
    <h1>fff</h1>
    <script>
        function successListener() {
            var data = JSON.parse(this.responseText);
            console.log("Name is: " + data.request.query);
            console.log("location name: " + data.location.name);
            console.log("location localtime: " + data.location.localtime);
            console.log("current observation_time: " + data.current.observation_time);
            console.log("current temperature: " + data.current.temperature);
            console.log("weather_descriptions: " + data.current.weather_descriptions);
            console.log("wind_speed: " + data.current.wind_speed);
            console.log("wind_dir: " + data.current.wind_dir);
            document.getElementById("content").innerHTML += "<br> <img src=" + data.current.weather_icons + ">";
        }

        function failureListener(err) {
            console.log('Request failed', err);
        }

        var request = new XMLHttpRequest();
        request.onload = successListener;
        request.onerror = failureListener;
        request.open('get', 'http://api.weatherstack.com/current?access_key=77e97af69d52b02182c79e0705e7cfc0&query=taiz,Yemen', true);
        request.send();


        // fetch('https://www.freelancer.com/api/projects/0.1/jobs/search/?job_names%5B%5D=PHP&job_names%5B%5D=website%20design')
        //     .then(function(response) {
        //         // response is a json string
        //         return response.json(); // convert it to a pure JavaScript object
        //     })
        //     .then(function(data) {
        //         //Process Your data  
        //         if (data.is_taken_email)
        //             console.log(data.status);
        //     })
        //     .catch(function(err) {
        //         console.log(err);
        //     });


        // function handleResponse(response) {
        //     for (var i = 0; i < response.items.length; i++) {
        //         var item = response.items[i];
        //         // in production code, item.text should have the HTML entities escaped.
        //         document.getElementById("content").innerHTML += "<br>" + item.message;
        //     }
        // }
        // var listen = setInterval(function() {

        //     fetch('https://www.freelancer.com/api/projects/0.1/jobs/search/?job_names%5B%5D=PHP&job_names%5B%5D=website%20design')
        //         .then(function(response) {
        //             return response.json();
        //         })
        //         .then(function(data) {
        //             // if (data[0].system.promulgated)
        //             for (var x = 0; x < 3; x++)
        //                 console.log(data.result[x].name);
        //         })
        //         .catch(function(err) {
        //             console.log(err);
        //         });

        // }, 2000); //2 second
    </script>
    <!-- <script src="https://www.googleapis.com/books/v1/volumes?q=harry+potter&callback=handleResponse"></script> -->
    <!-- <script src="https://www.thunderclient.io/welcome"></script> -->
</body>

</html>